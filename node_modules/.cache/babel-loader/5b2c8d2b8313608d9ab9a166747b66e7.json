{"ast":null,"code":"import _classCallCheck from \"/home/teko/work/new_explorer/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/teko/work/new_explorer/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/teko/work/new_explorer/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/teko/work/new_explorer/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/teko/work/new_explorer/client/src/components/Lists/Chaincodes.js\";\n\n/**\n *    SPDX-License-Identifier: Apache-2.0\n */\nimport React, { Component } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport matchSorter from 'match-sorter';\nimport Dialog from '@material-ui/core/Dialog';\nimport ReactTable from '../Styled/Table';\nimport ChaincodeForm from '../Forms/ChaincodeForm';\nimport ChaincodeModal from '../View/ChaincodeModal';\nimport { chaincodeListType } from '../../consts/types';\n\nvar styles = function styles(theme) {\n  return {\n    hash: {\n      whiteSpace: 'nowrap',\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n      maxWidth: 60,\n      letterSpacing: '2px'\n    }\n  };\n};\n\nexport var Chaincodes = /*#__PURE__*/function (_Component) {\n  _inherits(Chaincodes, _Component);\n\n  var _super = _createSuper(Chaincodes);\n\n  function Chaincodes(props) {\n    var _this;\n\n    _classCallCheck(this, Chaincodes);\n\n    _this = _super.call(this, props);\n\n    _this.handleDialogOpen = function () {\n      _this.setState({\n        dialogOpen: true\n      });\n    };\n\n    _this.handleDialogClose = function () {\n      _this.setState({\n        dialogOpen: false\n      });\n    };\n\n    _this.sourceDialogOpen = function (chaincode) {\n      _this.setState({\n        chaincode: chaincode\n      });\n\n      _this.setState({\n        sourceDialog: true\n      });\n    };\n\n    _this.sourceDialogClose = function () {\n      _this.setState({\n        sourceDialog: false\n      });\n    };\n\n    _this.reactTableSetup = function (classes) {\n      return [{\n        Header: 'Chaincode Name',\n        accessor: 'chaincodename',\n        filterMethod: function filterMethod(filter, rows) {\n          return matchSorter(rows, filter.value, {\n            keys: ['chaincodename']\n          }, {\n            threshold: matchSorter.rankings.SIMPLEMATCH\n          });\n        },\n        filterAll: true\n      }, {\n        Header: 'Channel Name',\n        accessor: 'channelName',\n        filterMethod: function filterMethod(filter, rows) {\n          return matchSorter(rows, filter.value, {\n            keys: ['channelName']\n          }, {\n            threshold: matchSorter.rankings.SIMPLEMATCH\n          });\n        },\n        filterAll: true\n      }, {\n        Header: 'Path',\n        accessor: 'path',\n        filterMethod: function filterMethod(filter, rows) {\n          return matchSorter(rows, filter.value, {\n            keys: ['path']\n          }, {\n            threshold: matchSorter.rankings.SIMPLEMATCH\n          });\n        },\n        filterAll: true\n      }, {\n        Header: 'Transaction Count',\n        accessor: 'txCount',\n        filterMethod: function filterMethod(filter, rows) {\n          return matchSorter(rows, filter.value, {\n            keys: ['txCount']\n          }, {\n            threshold: matchSorter.rankings.SIMPLEMATCH\n          });\n        },\n        filterAll: true\n      }, {\n        Header: 'Version',\n        accessor: 'version',\n        filterMethod: function filterMethod(filter, rows) {\n          return matchSorter(rows, filter.value, {\n            keys: ['version']\n          }, {\n            threshold: matchSorter.rankings.SIMPLEMATCH\n          });\n        },\n        filterAll: true\n      }];\n    };\n\n    _this.state = {\n      dialogOpen: false,\n      sourceDialog: false,\n      chaincode: {}\n    };\n    return _this;\n  }\n\n  _createClass(Chaincodes, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          chaincodeList = _this$props.chaincodeList,\n          classes = _this$props.classes;\n      var _this$state = this.state,\n          dialogOpen = _this$state.dialogOpen,\n          sourceDialog = _this$state.sourceDialog,\n          chaincode = _this$state.chaincode;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(ReactTable, {\n        data: chaincodeList,\n        columns: this.reactTableSetup(classes),\n        defaultPageSize: 5,\n        filterable: true,\n        minRows: 0,\n        showPagination: chaincodeList.length >= 5,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 5\n        }\n      }), /*#__PURE__*/React.createElement(Dialog, {\n        open: dialogOpen,\n        onClose: this.handleDialogClose,\n        fullWidth: true,\n        maxWidth: \"md\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(ChaincodeForm, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 6\n        }\n      })), /*#__PURE__*/React.createElement(Dialog, {\n        open: sourceDialog,\n        onClose: this.sourceDialogClose,\n        fullWidth: true,\n        maxWidth: \"md\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(ChaincodeModal, {\n        chaincode: chaincode,\n        classes: classes,\n        onClose: this.sourceDialogClose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 6\n        }\n      })));\n    }\n  }]);\n\n  return Chaincodes;\n}(Component);\nChaincodes.propTypes = {\n  chaincodeList: chaincodeListType.isRequired\n};\nexport default withStyles(styles)(Chaincodes);","map":{"version":3,"sources":["/home/teko/work/new_explorer/client/src/components/Lists/Chaincodes.js"],"names":["React","Component","withStyles","matchSorter","Dialog","ReactTable","ChaincodeForm","ChaincodeModal","chaincodeListType","styles","theme","hash","whiteSpace","overflow","textOverflow","maxWidth","letterSpacing","Chaincodes","props","handleDialogOpen","setState","dialogOpen","handleDialogClose","sourceDialogOpen","chaincode","sourceDialog","sourceDialogClose","reactTableSetup","classes","Header","accessor","filterMethod","filter","rows","value","keys","threshold","rankings","SIMPLEMATCH","filterAll","state","chaincodeList","length","propTypes","isRequired"],"mappings":"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","sourcesContent":["/**\n *    SPDX-License-Identifier: Apache-2.0\n */\n\nimport React, { Component } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport matchSorter from 'match-sorter';\nimport Dialog from '@material-ui/core/Dialog';\nimport ReactTable from '../Styled/Table';\nimport ChaincodeForm from '../Forms/ChaincodeForm';\nimport ChaincodeModal from '../View/ChaincodeModal';\nimport { chaincodeListType } from '../../consts/types';\n\nconst styles = theme => ({\n\thash: {\n\t\twhiteSpace: 'nowrap',\n\t\toverflow: 'hidden',\n\t\ttextOverflow: 'ellipsis',\n\t\tmaxWidth: 60,\n\t\tletterSpacing: '2px'\n\t}\n});\n\nexport class Chaincodes extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdialogOpen: false,\n\t\t\tsourceDialog: false,\n\t\t\tchaincode: {}\n\t\t};\n\t}\n\n\thandleDialogOpen = () => {\n\t\tthis.setState({ dialogOpen: true });\n\t};\n\n\thandleDialogClose = () => {\n\t\tthis.setState({ dialogOpen: false });\n\t};\n\n\tsourceDialogOpen = chaincode => {\n\t\tthis.setState({ chaincode });\n\t\tthis.setState({ sourceDialog: true });\n\t};\n\n\tsourceDialogClose = () => {\n\t\tthis.setState({ sourceDialog: false });\n\t};\n\n\treactTableSetup = classes => [\n\t\t{\n\t\t\tHeader: 'Chaincode Name',\n\t\t\taccessor: 'chaincodename',\n\t\t\tfilterMethod: (filter, rows) =>\n\t\t\t\tmatchSorter(\n\t\t\t\t\trows,\n\t\t\t\t\tfilter.value,\n\t\t\t\t\t{ keys: ['chaincodename'] },\n\t\t\t\t\t{ threshold: matchSorter.rankings.SIMPLEMATCH }\n\t\t\t\t),\n\t\t\tfilterAll: true\n\t\t},\n\t\t{\n\t\t\tHeader: 'Channel Name',\n\t\t\taccessor: 'channelName',\n\t\t\tfilterMethod: (filter, rows) =>\n\t\t\t\tmatchSorter(\n\t\t\t\t\trows,\n\t\t\t\t\tfilter.value,\n\t\t\t\t\t{ keys: ['channelName'] },\n\t\t\t\t\t{ threshold: matchSorter.rankings.SIMPLEMATCH }\n\t\t\t\t),\n\t\t\tfilterAll: true\n\t\t},\n\t\t{\n\t\t\tHeader: 'Path',\n\t\t\taccessor: 'path',\n\t\t\tfilterMethod: (filter, rows) =>\n\t\t\t\tmatchSorter(\n\t\t\t\t\trows,\n\t\t\t\t\tfilter.value,\n\t\t\t\t\t{ keys: ['path'] },\n\t\t\t\t\t{ threshold: matchSorter.rankings.SIMPLEMATCH }\n\t\t\t\t),\n\t\t\tfilterAll: true\n\t\t},\n\t\t{\n\t\t\tHeader: 'Transaction Count',\n\t\t\taccessor: 'txCount',\n\t\t\tfilterMethod: (filter, rows) =>\n\t\t\t\tmatchSorter(\n\t\t\t\t\trows,\n\t\t\t\t\tfilter.value,\n\t\t\t\t\t{ keys: ['txCount'] },\n\t\t\t\t\t{ threshold: matchSorter.rankings.SIMPLEMATCH }\n\t\t\t\t),\n\t\t\tfilterAll: true\n\t\t},\n\t\t{\n\t\t\tHeader: 'Version',\n\t\t\taccessor: 'version',\n\t\t\tfilterMethod: (filter, rows) =>\n\t\t\t\tmatchSorter(\n\t\t\t\t\trows,\n\t\t\t\t\tfilter.value,\n\t\t\t\t\t{ keys: ['version'] },\n\t\t\t\t\t{ threshold: matchSorter.rankings.SIMPLEMATCH }\n\t\t\t\t),\n\t\t\tfilterAll: true\n\t\t}\n\t];\n\n\trender() {\n\t\tconst { chaincodeList, classes } = this.props;\n\t\tconst { dialogOpen, sourceDialog, chaincode } = this.state;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{/* <Button className=\"button\" onClick={() => this.handleDialogOpen()}>\n          Add Chaincode\n          </Button> */}\n\t\t\t\t<ReactTable\n\t\t\t\t\tdata={chaincodeList}\n\t\t\t\t\tcolumns={this.reactTableSetup(classes)}\n\t\t\t\t\tdefaultPageSize={5}\n\t\t\t\t\tfilterable\n\t\t\t\t\tminRows={0}\n\t\t\t\t\tshowPagination={chaincodeList.length >= 5}\n\t\t\t\t/>\n\t\t\t\t<Dialog\n\t\t\t\t\topen={dialogOpen}\n\t\t\t\t\tonClose={this.handleDialogClose}\n\t\t\t\t\tfullWidth\n\t\t\t\t\tmaxWidth=\"md\"\n\t\t\t\t>\n\t\t\t\t\t<ChaincodeForm />\n\t\t\t\t</Dialog>\n\t\t\t\t<Dialog\n\t\t\t\t\topen={sourceDialog}\n\t\t\t\t\tonClose={this.sourceDialogClose}\n\t\t\t\t\tfullWidth\n\t\t\t\t\tmaxWidth=\"md\"\n\t\t\t\t>\n\t\t\t\t\t<ChaincodeModal\n\t\t\t\t\t\tchaincode={chaincode}\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\tonClose={this.sourceDialogClose}\n\t\t\t\t\t/>\n\t\t\t\t</Dialog>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nChaincodes.propTypes = {\n\tchaincodeList: chaincodeListType.isRequired\n};\n\nexport default withStyles(styles)(Chaincodes);\n"]},"metadata":{},"sourceType":"module"}