{"ast":null,"code":"import _regeneratorRuntime from \"/home/teko/work/new_explorer/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/teko/work/new_explorer/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/teko/work/new_explorer/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/teko/work/new_explorer/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/teko/work/new_explorer/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/teko/work/new_explorer/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"/home/teko/work/new_explorer/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/teko/work/new_explorer/client/src/pages/Login/Login.js\";\n\n/**\n *    SPDX-License-Identifier: Apache-2.0\n */\nimport React, { Component } from 'react';\nimport compose from 'recompose/compose';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListIcon from '@material-ui/icons/List';\nimport PersonIcon from '@material-ui/icons/Person';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport { shape, string } from 'prop-types';\nimport { authSelectors, authOperations } from '../../state/redux/auth';\n\nvar styles = function styles(theme) {\n  return {\n    container: _defineProperty({\n      width: 'auto',\n      display: 'block',\n      // Fix IE 11 issue.\n      marginLeft: theme.spacing.unit * 3,\n      marginRight: theme.spacing.unit * 3\n    }, theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2), {\n      width: 400,\n      marginLeft: 'auto',\n      marginRight: 'auto'\n    }),\n    paper: {\n      marginTop: theme.spacing.unit * 8,\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      padding: \"\".concat(theme.spacing.unit * 2, \"px \").concat(theme.spacing.unit * 3, \"px \").concat(theme.spacing.unit * 3, \"px\")\n    },\n    avatar: {\n      margin: theme.spacing.unit,\n      backgroundColor: theme.palette.secondary.main\n    },\n    form: {\n      width: '100%',\n      // Fix IE 11 issue.\n      marginTop: theme.spacing.unit\n    },\n    submit: {\n      marginTop: theme.spacing.unit * 3\n    },\n    errortext: {\n      fontSize: 16,\n      font: 'bold',\n      color: 'red'\n    }\n  };\n};\n\nexport var Login = /*#__PURE__*/function (_Component) {\n  _inherits(Login, _Component);\n\n  var _super = _createSuper(Login);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _super.call(this, props);\n\n    _this.handleChange = function (event) {\n      var target = event.target;\n      var value = target.type === 'checkbox' ? target.checked : target.value;\n      var name = target.name;\n\n      var newState = _defineProperty({}, name, {\n        value: value\n      });\n\n      if (name === 'network') {\n        var networks = _this.state.networks;\n        newState.authEnabled = (networks.find(function (n) {\n          return n.name === value;\n        }) || {}).authEnabled;\n        newState.network.id = (networks.find(function (n) {\n          return n.name === value;\n        }) || {}).id;\n      }\n\n      _this.setState(newState);\n    };\n\n    _this.submitForm = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n        var _this$state, user, password, network;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                _this$state = _this.state, user = _this$state.user, password = _this$state.password, network = _this$state.network;\n                _context.next = 4;\n                return _this.performLogin({\n                  user: user.value,\n                  password: password.value,\n                  network: network.id\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    var _props$networks = props.networks,\n        _networks = _props$networks === void 0 ? [] : _props$networks;\n\n    _this.state = {\n      info: null,\n      user: {\n        error: null,\n        value: ''\n      },\n      password: {\n        error: null,\n        value: ''\n      },\n      network: {\n        error: null,\n        value: '',\n        id: ''\n      },\n      autoLoginAttempted: false,\n      error: '',\n      networks: _networks,\n      authEnabled: false,\n      isLoading: false\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _nextProps$networks = nextProps.networks,\n          networks = _nextProps$networks === void 0 ? [] : _nextProps$networks;\n      this.setState(function () {\n        return {\n          networks: networks,\n          network: {\n            error: null,\n            value: networks[0] ? networks[0].name || '' : '',\n            id: networks[0] ? networks[0].id : ''\n          },\n          authEnabled: networks[0] ? networks[0].authEnabled : ''\n        };\n      });\n    }\n  }, {\n    key: \"performLogin\",\n    value: function () {\n      var _performLogin = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref2) {\n        var user, password, network, login, authEnabled, info, history;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                user = _ref2.user, password = _ref2.password, network = _ref2.network;\n                login = this.props.login;\n                authEnabled = this.state.authEnabled;\n                _context2.next = 5;\n                return login({\n                  user: authEnabled ? user : 'dummy-user',\n                  password: authEnabled ? password : 'dummy-password'\n                }, network);\n\n              case 5:\n                info = _context2.sent;\n                this.setState(function () {\n                  return {\n                    info: info\n                  };\n                });\n\n                if (!(info.status === 'Success')) {\n                  _context2.next = 11;\n                  break;\n                }\n\n                history = this.props.history;\n                history.replace('/');\n                return _context2.abrupt(\"return\", true);\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function performLogin(_x2) {\n        return _performLogin.apply(this, arguments);\n      }\n\n      return performLogin;\n    }()\n  }, {\n    key: \"componentDidUpdate\",\n    value: function () {\n      var _componentDidUpdate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var _this$state2, networks, autoLoginAttempted;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _this$state2 = this.state, networks = _this$state2.networks, autoLoginAttempted = _this$state2.autoLoginAttempted;\n                /*\n                 * If we have only one network and it doesn't have auth enabled, perform a login\n                 * autoLoginAttempted is a safety to prevent multiple tries\n                 */\n\n                if (!(networks.length === 1 && !networks[0] ? networks[0].authEnabled : '' && !autoLoginAttempted)) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                // eslint-disable-next-line react/no-did-update-set-state\n                this.setState(function () {\n                  return {\n                    autoLoginAttempted: true\n                  };\n                });\n                _context3.next = 5;\n                return this.performLogin({\n                  network: networks[0] ? networks[0].name : ''\n                });\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function componentDidUpdate() {\n        return _componentDidUpdate.apply(this, arguments);\n      }\n\n      return componentDidUpdate;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state3 = this.state,\n          info = _this$state3.info,\n          user = _this$state3.user,\n          password = _this$state3.password,\n          network = _this$state3.network,\n          networks = _this$state3.networks,\n          authEnabled = _this$state3.authEnabled,\n          isLoading = _this$state3.isLoading;\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          error = _this$props.error;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(Paper, {\n        className: classes.paper,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(Avatar, {\n        className: classes.avatar,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(LockOutlinedIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 7\n        }\n      })), /*#__PURE__*/React.createElement(Typography, {\n        component: \"h5\",\n        variant: \"headline\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 6\n        }\n      }, \"Sign in\"), /*#__PURE__*/React.createElement(\"form\", {\n        className: classes.form,\n        onSubmit: this.submitForm,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        required: true,\n        fullWidth: true,\n        select: true,\n        id: \"network\",\n        name: \"network\",\n        label: \"Network\",\n        disabled: isLoading,\n        value: network.value,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e);\n        },\n        margin: \"normal\",\n        InputProps: {\n          startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n            position: \"start\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(ListIcon, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 12\n            }\n          })),\n          shrink: 'true'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 8\n        }\n      }, networks.map(function (item) {\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          key: item.name,\n          value: item.name,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 10\n          }\n        }, item.name);\n      })), network.error && /*#__PURE__*/React.createElement(FormHelperText, {\n        id: \"component-error-text\",\n        error: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 9\n        }\n      }, network.error)), authEnabled && /*#__PURE__*/React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        error: !!user.error,\n        required: true,\n        fullWidth: true,\n        id: \"user\",\n        name: \"user\",\n        label: \"User\",\n        disabled: isLoading,\n        value: user.value,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e);\n        },\n        margin: \"normal\",\n        InputProps: {\n          startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n            position: \"start\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 12\n            }\n          }, /*#__PURE__*/React.createElement(PersonIcon, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 13\n            }\n          })),\n          shrink: 'true'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 9\n        }\n      }), user.error && /*#__PURE__*/React.createElement(FormHelperText, {\n        id: \"component-error-text\",\n        error: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 10\n        }\n      }, user.error)), authEnabled && /*#__PURE__*/React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        required: true,\n        fullWidth: true,\n        error: !!password.error,\n        id: \"password\",\n        type: \"password\",\n        name: \"password\",\n        label: \"Password\",\n        disabled: isLoading,\n        value: password.value,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e);\n        },\n        margin: \"normal\",\n        InputProps: {\n          startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n            position: \"start\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 12\n            }\n          }, /*#__PURE__*/React.createElement(LockOutlinedIcon, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 13\n            }\n          })),\n          shrink: 'true'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 9\n        }\n      }), password.error && /*#__PURE__*/React.createElement(FormHelperText, {\n        id: \"component-error-text\",\n        error: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 10\n        }\n      }, password.error)), error && /*#__PURE__*/React.createElement(FormHelperText, {\n        id: \"component-error-text\",\n        error: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 8\n        }\n      }, error), info && /*#__PURE__*/React.createElement(FormHelperText, {\n        id: \"component-error-text\",\n        className: classes.errortext,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 8\n        }\n      }, info.message), /*#__PURE__*/React.createElement(Button, {\n        type: \"submit\",\n        fullWidth: true,\n        variant: \"contained\",\n        color: \"primary\",\n        className: classes.submit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 7\n        }\n      }, authEnabled ? 'Sign in' : 'Connect'))));\n    }\n  }]);\n\n  return Login;\n}(Component);\nLogin.propTypes = {\n  classes: shape({\n    avatar: string,\n    form: string,\n    container: string,\n    paper: string,\n    submit: string\n  }).isRequired\n};\nvar authSelector = authSelectors.authSelector,\n    errorSelector = authSelectors.errorSelector,\n    networkSelector = authSelectors.networkSelector;\nexport default compose(withStyles(styles), connect(function (state) {\n  return {\n    auth: authSelector(state),\n    error: errorSelector(state),\n    networks: networkSelector(state)\n  };\n}, {\n  login: authOperations.login\n}))(Login);","map":{"version":3,"sources":["/home/teko/work/new_explorer/client/src/pages/Login/Login.js"],"names":["React","Component","compose","connect","withStyles","Avatar","Button","FormControl","FormHelperText","InputAdornment","TextField","Paper","Typography","MenuItem","ListIcon","PersonIcon","LockOutlinedIcon","shape","string","authSelectors","authOperations","styles","theme","container","width","display","marginLeft","spacing","unit","marginRight","breakpoints","up","paper","marginTop","flexDirection","alignItems","padding","avatar","margin","backgroundColor","palette","secondary","main","form","submit","errortext","fontSize","font","color","Login","props","handleChange","event","target","value","type","checked","name","newState","networks","state","authEnabled","find","n","network","id","setState","submitForm","e","preventDefault","user","password","performLogin","info","error","autoLoginAttempted","isLoading","nextProps","login","status","history","replace","length","classes","startAdornment","shrink","map","item","message","propTypes","isRequired","authSelector","errorSelector","networkSelector","auth"],"mappings":"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","sourcesContent":["/**\n *    SPDX-License-Identifier: Apache-2.0\n */\n\nimport React, { Component } from 'react';\n\nimport compose from 'recompose/compose';\nimport { connect } from 'react-redux';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport ListIcon from '@material-ui/icons/List';\nimport PersonIcon from '@material-ui/icons/Person';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\n\nimport { shape, string } from 'prop-types';\n\nimport { authSelectors, authOperations } from '../../state/redux/auth';\n\nconst styles = theme => ({\n\tcontainer: {\n\t\twidth: 'auto',\n\t\tdisplay: 'block', // Fix IE 11 issue.\n\t\tmarginLeft: theme.spacing.unit * 3,\n\t\tmarginRight: theme.spacing.unit * 3,\n\t\t[theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\n\t\t\twidth: 400,\n\t\t\tmarginLeft: 'auto',\n\t\t\tmarginRight: 'auto'\n\t\t}\n\t},\n\tpaper: {\n\t\tmarginTop: theme.spacing.unit * 8,\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center',\n\t\tpadding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme\n\t\t\t.spacing.unit * 3}px`\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing.unit,\n\t\tbackgroundColor: theme.palette.secondary.main\n\t},\n\tform: {\n\t\twidth: '100%', // Fix IE 11 issue.\n\t\tmarginTop: theme.spacing.unit\n\t},\n\tsubmit: {\n\t\tmarginTop: theme.spacing.unit * 3\n\t},\n\terrortext: {\n\t\tfontSize: 16,\n\t\tfont: 'bold',\n\t\tcolor: 'red'\n\t}\n});\n\nexport class Login extends Component {\n\tstatic propTypes = {\n\t\tclasses: shape({\n\t\t\tavatar: string,\n\t\t\tform: string,\n\t\t\tcontainer: string,\n\t\t\tpaper: string,\n\t\t\tsubmit: string\n\t\t}).isRequired\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst { networks = [] } = props;\n\t\tthis.state = {\n\t\t\tinfo: null,\n\t\t\tuser: {\n\t\t\t\terror: null,\n\t\t\t\tvalue: ''\n\t\t\t},\n\t\t\tpassword: {\n\t\t\t\terror: null,\n\t\t\t\tvalue: ''\n\t\t\t},\n\t\t\tnetwork: {\n\t\t\t\terror: null,\n\t\t\t\tvalue: '',\n\t\t\t\tid: ''\n\t\t\t},\n\t\t\tautoLoginAttempted: false,\n\t\t\terror: '',\n\t\t\tnetworks,\n\t\t\tauthEnabled: false,\n\t\t\tisLoading: false\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tconst { networks = [] } = nextProps;\n\t\tthis.setState(() => ({\n\t\t\tnetworks,\n\t\t\tnetwork: {\n\t\t\t\terror: null,\n\t\t\t\tvalue: networks[0] ? networks[0].name || '' : '',\n\t\t\t\tid: networks[0] ? networks[0].id : ''\n\t\t\t},\n\t\t\tauthEnabled: networks[0] ? networks[0].authEnabled : ''\n\t\t}));\n\t}\n\n\thandleChange = event => {\n\t\tconst { target } = event;\n\t\tconst value = target.type === 'checkbox' ? target.checked : target.value;\n\t\tconst { name } = target;\n\n\t\tconst newState = {\n\t\t\t[name]: { value }\n\t\t};\n\t\tif (name === 'network') {\n\t\t\tconst { networks } = this.state;\n\t\t\tnewState.authEnabled = (\n\t\t\t\tnetworks.find(n => n.name === value) || {}\n\t\t\t).authEnabled;\n\t\t\tnewState.network.id = (networks.find(n => n.name === value) || {}).id;\n\t\t}\n\n\t\tthis.setState(newState);\n\t};\n\n\tasync performLogin({ user, password, network }) {\n\t\tconst { login } = this.props;\n\t\tconst { authEnabled } = this.state;\n\t\tconst info = await login(\n\t\t\t{\n\t\t\t\tuser: authEnabled ? user : 'dummy-user',\n\t\t\t\tpassword: authEnabled ? password : 'dummy-password'\n\t\t\t},\n\t\t\tnetwork\n\t\t);\n\t\tthis.setState(() => ({ info }));\n\t\tif (info.status === 'Success') {\n\t\t\tconst { history } = this.props;\n\t\t\thistory.replace('/');\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tsubmitForm = async e => {\n\t\te.preventDefault();\n\n\t\tconst { user, password, network } = this.state;\n\t\tawait this.performLogin({\n\t\t\tuser: user.value,\n\t\t\tpassword: password.value,\n\t\t\tnetwork: network.id\n\t\t});\n\t};\n\n\tasync componentDidUpdate() {\n\t\tconst { networks, autoLoginAttempted } = this.state;\n\t\t/*\n\t\t * If we have only one network and it doesn't have auth enabled, perform a login\n\t\t * autoLoginAttempted is a safety to prevent multiple tries\n\t\t */\n\t\tif (\n\t\t\tnetworks.length === 1 && !networks[0]\n\t\t\t\t? networks[0].authEnabled\n\t\t\t\t: '' && !autoLoginAttempted\n\t\t) {\n\t\t\t// eslint-disable-next-line react/no-did-update-set-state\n\t\t\tthis.setState(() => ({\n\t\t\t\tautoLoginAttempted: true\n\t\t\t}));\n\t\t\tawait this.performLogin({ network: networks[0] ? networks[0].name : '' });\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tinfo,\n\t\t\tuser,\n\t\t\tpassword,\n\t\t\tnetwork,\n\t\t\tnetworks,\n\t\t\tauthEnabled,\n\t\t\tisLoading\n\t\t} = this.state;\n\t\tconst { classes, error } = this.props;\n\n\t\treturn (\n\t\t\t<div className={classes.container}>\n\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t\t<LockOutlinedIcon />\n\t\t\t\t\t</Avatar>\n\t\t\t\t\t<Typography component=\"h5\" variant=\"headline\">\n\t\t\t\t\t\tSign in\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<form className={classes.form} onSubmit={this.submitForm}>\n\t\t\t\t\t\t<FormControl margin=\"normal\" required fullWidth>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\tid=\"network\"\n\t\t\t\t\t\t\t\tname=\"network\"\n\t\t\t\t\t\t\t\tlabel=\"Network\"\n\t\t\t\t\t\t\t\tdisabled={isLoading}\n\t\t\t\t\t\t\t\tvalue={network.value}\n\t\t\t\t\t\t\t\tonChange={e => this.handleChange(e)}\n\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t\t\t<ListIcon />\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tshrink: 'true'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{networks.map(item => (\n\t\t\t\t\t\t\t\t\t<MenuItem key={item.name} value={item.name}>\n\t\t\t\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t{network.error && (\n\t\t\t\t\t\t\t\t<FormHelperText id=\"component-error-text\" error>\n\t\t\t\t\t\t\t\t\t{network.error}\n\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t{authEnabled && (\n\t\t\t\t\t\t\t<FormControl margin=\"normal\" required fullWidth>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\terror={!!user.error}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tid=\"user\"\n\t\t\t\t\t\t\t\t\tname=\"user\"\n\t\t\t\t\t\t\t\t\tlabel=\"User\"\n\t\t\t\t\t\t\t\t\tdisabled={isLoading}\n\t\t\t\t\t\t\t\t\tvalue={user.value}\n\t\t\t\t\t\t\t\t\tonChange={e => this.handleChange(e)}\n\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t\t\t\t<PersonIcon />\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tshrink: 'true'\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{user.error && (\n\t\t\t\t\t\t\t\t\t<FormHelperText id=\"component-error-text\" error>\n\t\t\t\t\t\t\t\t\t\t{user.error}\n\t\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{authEnabled && (\n\t\t\t\t\t\t\t<FormControl margin=\"normal\" required fullWidth>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\terror={!!password.error}\n\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\t\t\tdisabled={isLoading}\n\t\t\t\t\t\t\t\t\tvalue={password.value}\n\t\t\t\t\t\t\t\t\tonChange={e => this.handleChange(e)}\n\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t\t\t\t<LockOutlinedIcon />\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tshrink: 'true'\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{password.error && (\n\t\t\t\t\t\t\t\t\t<FormHelperText id=\"component-error-text\" error>\n\t\t\t\t\t\t\t\t\t\t{password.error}\n\t\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{error && (\n\t\t\t\t\t\t\t<FormHelperText id=\"component-error-text\" error>\n\t\t\t\t\t\t\t\t{error}\n\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{info && (\n\t\t\t\t\t\t\t<FormHelperText id=\"component-error-text\" className={classes.errortext}>\n\t\t\t\t\t\t\t\t{info.message}\n\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{authEnabled ? 'Sign in' : 'Connect'}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</form>\n\t\t\t\t</Paper>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst { authSelector, errorSelector, networkSelector } = authSelectors;\n\nexport default compose(\n\twithStyles(styles),\n\tconnect(\n\t\tstate => ({\n\t\t\tauth: authSelector(state),\n\t\t\terror: errorSelector(state),\n\t\t\tnetworks: networkSelector(state)\n\t\t}),\n\t\t{\n\t\t\tlogin: authOperations.login\n\t\t}\n\t)\n)(Login);\n"]},"metadata":{},"sourceType":"module"}